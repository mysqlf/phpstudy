{"version":3,"sources":["webpack:///login.bundle.js","webpack:///./js/entry/login.js","webpack:///./js/plug/pwShow.js?63fe","webpack:///./js/page/login.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","login","init",6,"__WEBPACK_AMD_DEFINE_RESULT__","require","modules","$","on","that","this","children","hasClass","removeClass","addClass","attr","call","undefined",10,"layer","Login","sessionStorage","account","val","focus","hide","blur","goLogin","formValidate","validate","submitHandler","form","$form","formData","serializeArray","flag","data","$submitBtn","actLink","post","url","status","open","content","location","href","msg","html","show","fail","time","complete","success"],"mappings":"AAAAA,cAAc,IAERC;;;AAIA,SAASC,EAAQC,EAASC,GCNhC,GAAAC,GAAAD,EAAA,GAEAC,GAAAC,QDaMC;;;AAIA,SAASL,EAAQC,EAASC,GEnBhC,GAAAI,EAMAA,GAAA,SAAAC,EAAAN,EAAAO,GACA,GAAAC,GAAAP,EAAA,EACAO,GAAA,oBAAAC,GAAA,mBACA,GAAAC,GAAAF,EAAAG,KACAD,GAAAE,WAAAC,SAAA,gBACAH,EAAAE,WAAAE,YAAA,eAAAC,SAAA,YACAP,EAAA,aAAAQ,KAAA,iBAEAN,EAAAE,WAAAE,YAAA,YAAAC,SAAA,eACAP,EAAA,aAAAQ,KAAA,uBAGCC,KAAAjB,EAAAC,EAAAD,EAAAD,KAAAmB,SAAAb,IAAAN,EAAAC,QAAAK,KF0BKc;;;AAIA,SAASpB,EAAQC,EAASC,GGhDhC,GAAAI,EAMAA,GAAA,SAAAC,EAAAN,EAAAD,GACA,GAAAS,GAAAP,EAAA,GACAmB,EAAAnB,EAAA,EAEAA,GAAA,GACAA,EAAA,GACAA,EAAA,EAEA,IAAAoB,IACAlB,KAAA,WAEAmB,eAAAC,SACAf,EAAA,yBAAAgB,IAAAF,eAAAC,SAGAf,EAAA,yBAAAiB,MAAA,WACAjB,EAAA,WAAAkB,SAGAlB,EAAA,qCAAAmB,KAAA,WAEA,GAAAH,GAAAhB,EAAAG,MAAAa,KACAF,gBAAAC,QAAAC,IAIAb,KAAAiB,WAEAA,QAAA,WACA,GAAAC,GAAArB,EAAA,eAAAsB,UACAC,cAAA,SAAAC,GACA,GAAAC,GAAAzB,EAAAwB,GACAE,EAAAD,EAAAE,iBACAC,EAAAH,EAAAI,KAAA,QACAC,EAAA9B,EAAA,kBAAAyB,GACAM,EAAAN,EAAAjB,KAAA,2BAEAoB,KACAH,EAAAI,KAAA,WACAC,EAAAd,IAAA,UAEAhB,EAAAgC,KAAAD,EAAAL,EAAA,SAAAG,GACA,GAAAI,GAAAJ,OAAAI,GACA,KAAAJ,EAAAK,QACAtB,EAAAuB,MACAC,QAAA,SAEAH,IACAI,SAAAC,KAAAL,KAGAJ,EAAAU,IACAvC,EAAA,WAAAwC,KAAAX,EAAAU,KAAAE,OAEAzC,EAAA,WAAAwC,KAAA,YAAAC,OAGAhB,EAAAI,KAAA,aAEyB,QACzBa,KAAA,WACA9B,EAAAuB,MACAC,QAAA,QACAO,KAAA,IAEAlB,EAAAI,KAAA,aAEAe,SAAA,WACAd,EAAAd,IAAA,UAGA6B,QAAA,WACA7C,EAAA,WAAAkB,SAIA,OAAAG,IAIA9B,GAAAC,QAAAqB,GAECJ,KAAAjB,EAAAC,EAAAD,EAAAD,KAAAmB,SAAAb,IAAAN,EAAAC,QAAAK","file":"login.bundle.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/*!***************************!*\\\n  !*** ./js/entry/login.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar login = __webpack_require__(/*! login */ 10);\r\n\t\r\n\tlogin.init();\r\n\n\n/***/ },\n\n/***/ 6:\n/*!***************************!*\\\n  !*** ./js/plug/pwShow.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-17 14:55:23\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, modules) {\r\n\t    var $ = __webpack_require__(/*! jquery */ 1);\r\n\t    $('.password_hidden').on('click', function() {\r\n\t        var that = $(this);\r\n\t        if (that.children().hasClass('icon-hidden')) {\r\n\t            that.children().removeClass('icon-hidden').addClass('icon-see')\r\n\t            $('#password').attr('type', 'text');\r\n\t        } else {\r\n\t            that.children().removeClass('icon-see').addClass('icon-hidden');\r\n\t            $('#password').attr('type', 'password');\r\n\t        }\r\n\t    });\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n\n/***/ 10:\n/*!**************************!*\\\n  !*** ./js/page/login.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-17 15:53:39\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\r\n\t    var $ = __webpack_require__(/*! jquery */ 1),\r\n\t        layer = __webpack_require__(/*! layer */ 2);\r\n\t\r\n\t    __webpack_require__(/*! pwShow */ 6);\r\n\t    __webpack_require__(/*! validate */ 3);\r\n\t    __webpack_require__(/*! defaultRules */ 4);\r\n\t\r\n\t    var Login = {\r\n\t        init: function() {\r\n\t\r\n\t            if (sessionStorage.account) {\r\n\t                $('input[name=\"account\"]').val(sessionStorage.account);\r\n\t            }\r\n\t\r\n\t            $('#login_box form input').focus(function() {\r\n\t                $('p.error').hide();\r\n\t\r\n\t            });\r\n\t            $(\"#login-form input[name='account']\").blur(function() {\r\n\t\r\n\t                var val = $(this).val();\r\n\t                sessionStorage.account = val;\r\n\t\r\n\t            });\r\n\t\r\n\t            this.goLogin();\r\n\t        },\r\n\t        goLogin: function() {\r\n\t            var formValidate = $(\"#login-form\").validate({\r\n\t                submitHandler: function(form) {\r\n\t                    var $form = $(form);\r\n\t                    var formData = $form.serializeArray();\r\n\t                    var flag = $form.data('flag');\r\n\t                    var $submitBtn = $('[type=\"submit\"]', $form);\r\n\t                    var actLink = $form.attr('action') || '/Account-login';\r\n\t                    \r\n\t                    if (flag) return;\r\n\t                    $form.data('flag', true);\r\n\t                    $submitBtn.val('登录中...');\r\n\t\r\n\t                    $.post(actLink, formData, function(data) {\r\n\t                            var url = data.data.url;\r\n\t                            if (data.status === 0) {\r\n\t                                layer.open({\r\n\t                                    content: '登录成功'\r\n\t                                });\r\n\t                                if (url) {\r\n\t                                    location.href = url;\r\n\t                                }\r\n\t                            } else {\r\n\t                                if(data.msg){\r\n\t                                    $('p.error').html(data.msg).show();\r\n\t                                } else{\r\n\t                                    $('p.error').html('账号和密码不一致').show();\r\n\t                                }\r\n\t                                \r\n\t                                $form.data('flag', false);\r\n\t                            }\r\n\t                        },'json')\r\n\t                        .fail(function() {\r\n\t                            layer.open({\r\n\t                                content: '服务器繁忙',\r\n\t                                time: 3\r\n\t                            });\r\n\t                            $form.data('flag', false);\r\n\t                        })\r\n\t                        .complete(function() {\r\n\t                            $submitBtn.val('登录');\r\n\t                        })\r\n\t                },\r\n\t                success: function() {\r\n\t                    $('p.error').hide();\r\n\t                }\r\n\t            });\r\n\t\r\n\t            return formValidate;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    module.exports = Login;\r\n\t\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** login.bundle.js\n **/","var login = require(\"login\");\r\n\r\nlogin.init();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/entry/login.js\n ** module id = 0\n ** module chunks = 3\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-17 14:55:23\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, modules) {\r\n    var $ = require(\"jquery\");\r\n    $('.password_hidden').on('click', function() {\r\n        var that = $(this);\r\n        if (that.children().hasClass('icon-hidden')) {\r\n            that.children().removeClass('icon-hidden').addClass('icon-see')\r\n            $('#password').attr('type', 'text');\r\n        } else {\r\n            that.children().removeClass('icon-see').addClass('icon-hidden');\r\n            $('#password').attr('type', 'password');\r\n        }\r\n    });\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/plug/pwShow.js\n ** module id = 6\n ** module chunks = 2 3\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-17 15:53:39\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, module) {\r\n    var $ = require('jquery'),\r\n        layer = require('layer');\r\n\r\n    require('pwShow');\r\n    require('validate');\r\n    require('defaultRules');\r\n\r\n    var Login = {\r\n        init: function() {\r\n\r\n            if (sessionStorage.account) {\r\n                $('input[name=\"account\"]').val(sessionStorage.account);\r\n            }\r\n\r\n            $('#login_box form input').focus(function() {\r\n                $('p.error').hide();\r\n\r\n            });\r\n            $(\"#login-form input[name='account']\").blur(function() {\r\n\r\n                var val = $(this).val();\r\n                sessionStorage.account = val;\r\n\r\n            });\r\n\r\n            this.goLogin();\r\n        },\r\n        goLogin: function() {\r\n            var formValidate = $(\"#login-form\").validate({\r\n                submitHandler: function(form) {\r\n                    var $form = $(form);\r\n                    var formData = $form.serializeArray();\r\n                    var flag = $form.data('flag');\r\n                    var $submitBtn = $('[type=\"submit\"]', $form);\r\n                    var actLink = $form.attr('action') || '/Account-login';\r\n                    \r\n                    if (flag) return;\r\n                    $form.data('flag', true);\r\n                    $submitBtn.val('登录中...');\r\n\r\n                    $.post(actLink, formData, function(data) {\r\n                            var url = data.data.url;\r\n                            if (data.status === 0) {\r\n                                layer.open({\r\n                                    content: '登录成功'\r\n                                });\r\n                                if (url) {\r\n                                    location.href = url;\r\n                                }\r\n                            } else {\r\n                                if(data.msg){\r\n                                    $('p.error').html(data.msg).show();\r\n                                } else{\r\n                                    $('p.error').html('账号和密码不一致').show();\r\n                                }\r\n                                \r\n                                $form.data('flag', false);\r\n                            }\r\n                        },'json')\r\n                        .fail(function() {\r\n                            layer.open({\r\n                                content: '服务器繁忙',\r\n                                time: 3\r\n                            });\r\n                            $form.data('flag', false);\r\n                        })\r\n                        .complete(function() {\r\n                            $submitBtn.val('登录');\r\n                        })\r\n                },\r\n                success: function() {\r\n                    $('p.error').hide();\r\n                }\r\n            });\r\n\r\n            return formValidate;\r\n        }\r\n    }\r\n\r\n    module.exports = Login;\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/page/login.js\n ** module id = 10\n ** module chunks = 3\n **/"],"sourceRoot":""}
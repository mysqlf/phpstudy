{"version":3,"sources":["webpack:///bindtel.bundle.js","webpack:///./js/entry/bindTel.js","webpack:///./js/plug/verifyCode.js?e215*","webpack:///./js/page/bindtel.js"],"names":["webpackJsonp","module","exports","__webpack_require__","bindtel","init","__WEBPACK_AMD_DEFINE_RESULT__","require","$","layer","VerifyCode","el","telEl","captchaEl","count","timer","parseInt","val","self","this","beginCode","disabledBtn","addClass","enableBtn","removeClass","setInterval","countSecond","getCode","sendDate","phoneVal","verifyCode","post","data","open","content","time","trigger","fail","timers","text","clearInterval","call","undefined","bindTel","formValidate","validate","on","element","window","history","back","rules","required","istelephone","number","remote","url","type","async","dataType","messages"],"mappings":"AAAAA,cAAc;;;AAKR,SAASC,EAAQC,EAASC,GCLhC,GAAAC,GAAAD,EAAA,EAGAC,GAAAC,QDUO,CACA,CACA,CACA;;;AAKD,SAASJ,EAAQC,EAASC,GErBhC,GAAAG,EAMAA,GAAA,SAAAC,EAAAL,EAAAD,GACA,GAAAO,GAAAL,EAAA,GACAM,EAAAN,EAAA,GACAO,GACAC,GAAAH,EAAA,eACAI,MAAAJ,EAAA,QACAK,UAAAL,EAAA,YACAM,MAAA,KACAC,MAAAC,SAAAR,EAAA,SAAAS,QAAA,GACAZ,KAAA,WACA,GAAAa,GAAAC,IACA,KAAAD,EAAAH,OACAG,EAAAE,aAIAC,YAAA,WAEA,MADAF,MAAAR,GAAAW,SAAA,YACAH,MAGAI,UAAA,WACA,GAAAL,GAAAC,IAIA,OAFAD,GAAAP,GAAAa,YAAA,YAEAL,MAGAC,UAAA,WACA,GAAAF,GAAAC,IAQA,OANAD,GAAAG,cAEAH,EAAAJ,MAAAW,YAAA,WACAP,EAAAQ,YAAAR,EAAAH,QACa,KAEbI,MAGAQ,QAAA,WACA,GAAAT,GAAAC,KACAS,GACAC,SAAAX,EAAAN,MAAAK,MACAa,WAAAZ,EAAAL,UAAAI,MA4BA,OAzBAC,GAAAG,cAEAb,EAAAuB,KAAA,kBAAAH,EAAA,SAAAI,GACA,IAAAA,GACAvB,EAAAwB,MACAC,QAAA,4BACAC,KAAA,IAEAjB,EAAAK,YACAL,EAAAP,GAAAyB,QAAA,WAAAJ,IACiBA,KAAA,aAAAA,GACjBd,EAAAK,YACAd,EAAAwB,MACAC,QAAA,iBACAC,KAAA,MAGAjB,EAAAE,YACAF,EAAAP,GAAAyB,QAAA,cAAAJ,KAEa,QACbK,KAAA,WACAnB,EAAAE,cAGAD,MAEAO,YAAA,SAAAY,GACA,GAAApB,GAAAC,IAeA,OAbA,IAAAmB,GACApB,EAAAH,MAAAuB,EAAA,EACApB,EAAAP,GAAA4B,KAAArB,EAAAH,MAAA,SACAG,EAAAG,gBAGAmB,cAAAtB,EAAAJ,OACAI,EAAAH,MAAA,GACAG,EAAAK,YACAL,EAAAP,GAAA4B,KAAA,SAIApB,MAKAlB,GAAAC,QAAAQ,GAEC+B,KAAAvC,EAAAC,EAAAD,EAAAD,KAAAyC,SAAApC,IAAAL,EAAAC,QAAAI,KF2BM;;;AAKD,SAASL,EAAQC,EAASC,GGxIhC,GAAAG,EAMAA,GAAA,SAAAC,EAAAL,EAAAD,GACA,GAAAO,GAAAL,EAAA,EACAA,GAAA,EACA2B,YAAA3B,EAAA,GAEAA,EAAA,GACAA,EAAA,EAMA,IAAAwC,IACAtC,KAAA,WACA,GAAAuC,GAAAzB,KAAA0B,UAEArC,GAAA,eAAAsC,GAAA,mBAEAF,EAAAG,QAAA,SACAjB,WAAAH,YAIAnB,EAAA,gBAAAsC,GAAA,mBACAE,OAAAC,QAAAC,KAAA,OAGAL,SAAA,WACA,GAAAD,GAAApC,EAAA,iBAAAqC,UACAM,OACAtB,UACAuB,UAAA,EACAC,aAAA,EACAC,QAAA,EACAC,QACAC,IAAA,iBACAC,KAAA,OACAC,OAAA,EACAC,SAAA,OACA3B,MACAH,SAAA,WACA,MAAArB,GAAA,QAAAS,WAOA2C,UACA/B,UACAuB,SAAA,SACAC,YAAA,UACAC,OAAA,UACAC,OAAA,aAKA,OAAAX,IAIA,OAAAD,IAGCF,KAAAvC,EAAAC,EAAAD,EAAAD,KAAAyC,SAAApC,IAAAL,EAAAC,QAAAI","file":"bindtel.bundle.js","sourcesContent":["webpackJsonp([4],[\n/* 0 */\n/*!*****************************!*\\\n  !*** ./js/entry/bindTel.js ***!\n  \\*****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar bindtel = __webpack_require__(/*! bindtel */ 7);\r\n\t\r\n\t\r\n\tbindtel.init();\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/*!*******************************!*\\\n  !*** ./js/plug/verifyCode.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-26 10:40:44\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\r\n\t    var $ = __webpack_require__(/*! jquery */ 1);\r\n\t    var layer = __webpack_require__(/*! layer */ 2);\r\n\t    var VerifyCode = {\r\n\t        el: $('.get_verify'),\r\n\t        telEl: $('#tel'),\r\n\t        captchaEl: $('#captcha'),\r\n\t        count: null,\r\n\t        timer: parseInt($('#time').val()) || 60,\r\n\t        init: function() {\r\n\t            var self = this;\r\n\t            if (self.timer != 60) {\r\n\t                self.beginCode();\r\n\t            }\r\n\t        },\r\n\t        // 禁用计时器\r\n\t        disabledBtn: function() {\r\n\t            this.el.addClass('disabled');\r\n\t            return this;\r\n\t        },\r\n\t        // 设置计时器\r\n\t        enableBtn: function() {\r\n\t            var self = this;\r\n\t\r\n\t            self.el.removeClass('disabled');\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t        // 启用计时器\r\n\t        beginCode: function() {\r\n\t            var self = this;\r\n\t\r\n\t            self.disabledBtn();\r\n\t\r\n\t            self.count = setInterval(function() {\r\n\t                self.countSecond(self.timer)\r\n\t            }, 1000);\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t        // 获取验证码\r\n\t        getCode: function() {\r\n\t            var self = this;\r\n\t            var sendDate = {\r\n\t                phoneVal: self.telEl.val(),\r\n\t                verifyCode: self.captchaEl.val()\r\n\t            }\r\n\t\r\n\t            self.disabledBtn()\r\n\t\r\n\t            $.post('Account-getcode', sendDate, function(data) {\r\n\t                if (data === 1) {\r\n\t                    layer.open({\r\n\t                        content: '您已经超过5次请求获取验证，请24小时后再尝试请求',\r\n\t                        time: 3\r\n\t                    });\r\n\t                    self.enableBtn();\r\n\t                    self.el.trigger('codeFail', data);\r\n\t                } else if(data === false || data === 'false' ){\r\n\t                    self.enableBtn();\r\n\t                    layer.open({\r\n\t                        content: '验证码失效，请重新获取验证码',\r\n\t                        time: 3\r\n\t                    });\r\n\t                } else {\r\n\t                    self.beginCode();\r\n\t                    self.el.trigger('codeSuccess', data);\r\n\t                }\r\n\t            }, 'json')\r\n\t            .fail(function(){\r\n\t                self.beginCode();\r\n\t            })\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t        countSecond: function(timers) {\r\n\t            var self = this;\r\n\t\r\n\t            if (timers != 0) {\r\n\t                self.timer = timers - 1;\r\n\t                self.el.text(self.timer + 's重新获取')\r\n\t                self.disabledBtn();\r\n\t\r\n\t            } else {\r\n\t                clearInterval(self.count);\r\n\t                self.timer = 60;\r\n\t                self.enableBtn();\r\n\t                self.el.text('重新获取');\r\n\t\r\n\t            }\r\n\t\r\n\t            return this;\r\n\t        }\r\n\t    }\r\n\t\r\n\t\r\n\t    module.exports = VerifyCode;\r\n\t\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 6 */,\n/* 7 */\n/*!****************************!*\\\n  !*** ./js/page/bindtel.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-28 15:57:44\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\r\n\t    var $ = __webpack_require__(/*! jquery */ 1),\r\n\t        layer = __webpack_require__(/*! layer */ 2);\r\n\t        verifyCode = __webpack_require__(/*! verifyCode */ 5);\r\n\t\r\n\t    __webpack_require__(/*! validate */ 3);\r\n\t    __webpack_require__(/*! defaultRules */ 4);\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t    var bindTel = {\r\n\t        init: function() {\r\n\t            var formValidate = this.validate();\r\n\t\r\n\t            $('.get_verify').on('click', function() {\r\n\t\r\n\t                if (formValidate.element('#tel')) {\r\n\t                    verifyCode.getCode();\r\n\t                }\r\n\t            });\r\n\t            //后退功能\r\n\t            $('.icon-return').on('click', function() {\r\n\t                window.history.back(-1);\r\n\t            });\r\n\t        },\r\n\t        validate: function() {\r\n\t            var formValidate = $(\"#bindtel-form\").validate({\r\n\t                rules: {\r\n\t                    phoneVal: {\r\n\t                        required: true,\r\n\t                        istelephone: true,\r\n\t                        number: true,\r\n\t                        remote: {\r\n\t                            url: 'Account-mobile',\r\n\t                            type: 'post',\r\n\t                            async: false,\r\n\t                            dataType: 'json',\r\n\t                            data: {\r\n\t                                'phoneVal': function() {\r\n\t                                    return $(\"#tel\").val();\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t\r\n\t                },\r\n\t                messages: {\r\n\t                    phoneVal: {\r\n\t                        required: '请输入手机号',\r\n\t                        istelephone: '手机格式不正确',\r\n\t                        number: '手机格式不正确',\r\n\t                        remote: '手机号已被注册'\r\n\t                    }\r\n\t                }\r\n\t            });\r\n\t\r\n\t            return formValidate;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    return bindTel;\r\n\t\r\n\t\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** bindtel.bundle.js\n **/","var bindtel = require(\"bindtel\");\r\n\r\n\r\nbindtel.init();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/entry/bindTel.js\n ** module id = 0\n ** module chunks = 4\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-26 10:40:44\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, module) {\r\n    var $ = require('jquery');\r\n    var layer = require('layer');\r\n    var VerifyCode = {\r\n        el: $('.get_verify'),\r\n        telEl: $('#tel'),\r\n        captchaEl: $('#captcha'),\r\n        count: null,\r\n        timer: parseInt($('#time').val()) || 60,\r\n        init: function() {\r\n            var self = this;\r\n            if (self.timer != 60) {\r\n                self.beginCode();\r\n            }\r\n        },\r\n        // 禁用计时器\r\n        disabledBtn: function() {\r\n            this.el.addClass('disabled');\r\n            return this;\r\n        },\r\n        // 设置计时器\r\n        enableBtn: function() {\r\n            var self = this;\r\n\r\n            self.el.removeClass('disabled');\r\n\r\n            return this;\r\n        },\r\n        // 启用计时器\r\n        beginCode: function() {\r\n            var self = this;\r\n\r\n            self.disabledBtn();\r\n\r\n            self.count = setInterval(function() {\r\n                self.countSecond(self.timer)\r\n            }, 1000);\r\n\r\n            return this;\r\n        },\r\n        // 获取验证码\r\n        getCode: function() {\r\n            var self = this;\r\n            var sendDate = {\r\n                phoneVal: self.telEl.val(),\r\n                verifyCode: self.captchaEl.val()\r\n            }\r\n\r\n            self.disabledBtn()\r\n\r\n            $.post('Account-getcode', sendDate, function(data) {\r\n                if (data === 1) {\r\n                    layer.open({\r\n                        content: '您已经超过5次请求获取验证，请24小时后再尝试请求',\r\n                        time: 3\r\n                    });\r\n                    self.enableBtn();\r\n                    self.el.trigger('codeFail', data);\r\n                } else if(data === false || data === 'false' ){\r\n                    self.enableBtn();\r\n                    layer.open({\r\n                        content: '验证码失效，请重新获取验证码',\r\n                        time: 3\r\n                    });\r\n                } else {\r\n                    self.beginCode();\r\n                    self.el.trigger('codeSuccess', data);\r\n                }\r\n            }, 'json')\r\n            .fail(function(){\r\n                self.beginCode();\r\n            })\r\n\r\n            return this;\r\n        },\r\n        countSecond: function(timers) {\r\n            var self = this;\r\n\r\n            if (timers != 0) {\r\n                self.timer = timers - 1;\r\n                self.el.text(self.timer + 's重新获取')\r\n                self.disabledBtn();\r\n\r\n            } else {\r\n                clearInterval(self.count);\r\n                self.timer = 60;\r\n                self.enableBtn();\r\n                self.el.text('重新获取');\r\n\r\n            }\r\n\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    module.exports = VerifyCode;\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/plug/verifyCode.js\n ** module id = 5\n ** module chunks = 1 2 4\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-28 15:57:44\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, module) {\r\n    var $ = require('jquery'),\r\n        layer = require('layer');\r\n        verifyCode = require('verifyCode');\r\n\r\n    require('validate');\r\n    require('defaultRules');\r\n\r\n\r\n\r\n\r\n\r\n    var bindTel = {\r\n        init: function() {\r\n            var formValidate = this.validate();\r\n\r\n            $('.get_verify').on('click', function() {\r\n\r\n                if (formValidate.element('#tel')) {\r\n                    verifyCode.getCode();\r\n                }\r\n            });\r\n            //后退功能\r\n            $('.icon-return').on('click', function() {\r\n                window.history.back(-1);\r\n            });\r\n        },\r\n        validate: function() {\r\n            var formValidate = $(\"#bindtel-form\").validate({\r\n                rules: {\r\n                    phoneVal: {\r\n                        required: true,\r\n                        istelephone: true,\r\n                        number: true,\r\n                        remote: {\r\n                            url: 'Account-mobile',\r\n                            type: 'post',\r\n                            async: false,\r\n                            dataType: 'json',\r\n                            data: {\r\n                                'phoneVal': function() {\r\n                                    return $(\"#tel\").val();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                },\r\n                messages: {\r\n                    phoneVal: {\r\n                        required: '请输入手机号',\r\n                        istelephone: '手机格式不正确',\r\n                        number: '手机格式不正确',\r\n                        remote: '手机号已被注册'\r\n                    }\r\n                }\r\n            });\r\n\r\n            return formValidate;\r\n        }\r\n    }\r\n\r\n    return bindTel;\r\n\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/page/bindtel.js\n ** module id = 7\n ** module chunks = 4\n **/"],"sourceRoot":""}
{"version":3,"sources":["webpack:///register.bundle.js","webpack:///./js/entry/register.js","webpack:///./js/plug/verifyCode.js?e215","webpack:///./js/plug/pwShow.js","webpack:///./js/page/register.js"],"names":["webpackJsonp","module","exports","__webpack_require__","register","init","__WEBPACK_AMD_DEFINE_RESULT__","require","$","layer","VerifyCode","el","telEl","captchaEl","count","timer","parseInt","val","self","this","beginCode","disabledBtn","addClass","enableBtn","removeClass","setInterval","countSecond","getCode","sendDate","phoneVal","verifyCode","post","data","open","content","time","trigger","fail","timers","text","clearInterval","call","undefined","modules","on","that","children","hasClass","attr","Register","formValidate","goSignup","element","sendLogin","form","$form","formData","serializeArray","flag","$submitBtn","actLink","url","status","location","href","index","title","className","click","close","complete","validate","submitHandler","rules","remote","type","dataType","async","messages","required"],"mappings":"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","file":"register.bundle.js","sourcesContent":["webpackJsonp([2],[\n/* 0 */\n/*!******************************!*\\\n  !*** ./js/entry/register.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar register = __webpack_require__(/*! register */ 11);\r\n\t\r\n\tregister.init();\r\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/*!*******************************!*\\\n  !*** ./js/plug/verifyCode.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-26 10:40:44\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\r\n\t    var $ = __webpack_require__(/*! jquery */ 1);\r\n\t    var layer = __webpack_require__(/*! layer */ 2);\r\n\t    var VerifyCode = {\r\n\t        el: $('.get_verify'),\r\n\t        telEl: $('#tel'),\r\n\t        captchaEl: $('#captcha'),\r\n\t        count: null,\r\n\t        timer: parseInt($('#time').val()) || 60,\r\n\t        init: function() {\r\n\t            var self = this;\r\n\t            if (self.timer != 60) {\r\n\t                self.beginCode();\r\n\t            }\r\n\t        },\r\n\t        // 禁用计时器\r\n\t        disabledBtn: function() {\r\n\t            this.el.addClass('disabled');\r\n\t            return this;\r\n\t        },\r\n\t        // 设置计时器\r\n\t        enableBtn: function() {\r\n\t            var self = this;\r\n\t\r\n\t            self.el.removeClass('disabled');\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t        // 启用计时器\r\n\t        beginCode: function() {\r\n\t            var self = this;\r\n\t\r\n\t            self.disabledBtn();\r\n\t\r\n\t            self.count = setInterval(function() {\r\n\t                self.countSecond(self.timer)\r\n\t            }, 1000);\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t        // 获取验证码\r\n\t        getCode: function() {\r\n\t            var self = this;\r\n\t            var sendDate = {\r\n\t                phoneVal: self.telEl.val(),\r\n\t                verifyCode: self.captchaEl.val()\r\n\t            }\r\n\t\r\n\t            self.disabledBtn()\r\n\t\r\n\t            $.post('Account-getcode', sendDate, function(data) {\r\n\t                if (data === 1) {\r\n\t                    layer.open({\r\n\t                        content: '您已经超过5次请求获取验证，请24小时后再尝试请求',\r\n\t                        time: 3\r\n\t                    });\r\n\t                    self.enableBtn();\r\n\t                    self.el.trigger('codeFail', data);\r\n\t                } else if(data === false || data === 'false' ){\r\n\t                    self.enableBtn();\r\n\t                    layer.open({\r\n\t                        content: '验证码失效，请重新获取验证码',\r\n\t                        time: 3\r\n\t                    });\r\n\t                } else {\r\n\t                    self.beginCode();\r\n\t                    self.el.trigger('codeSuccess', data);\r\n\t                }\r\n\t            }, 'json')\r\n\t            .fail(function(){\r\n\t                self.beginCode();\r\n\t            })\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t        countSecond: function(timers) {\r\n\t            var self = this;\r\n\t\r\n\t            if (timers != 0) {\r\n\t                self.timer = timers - 1;\r\n\t                self.el.text(self.timer + 's重新获取')\r\n\t                self.disabledBtn();\r\n\t\r\n\t            } else {\r\n\t                clearInterval(self.count);\r\n\t                self.timer = 60;\r\n\t                self.enableBtn();\r\n\t                self.el.text('重新获取');\r\n\t\r\n\t            }\r\n\t\r\n\t            return this;\r\n\t        }\r\n\t    }\r\n\t\r\n\t\r\n\t    module.exports = VerifyCode;\r\n\t\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 6 */\n/*!***************************!*\\\n  !*** ./js/plug/pwShow.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-17 14:55:23\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, modules) {\r\n\t    var $ = __webpack_require__(/*! jquery */ 1);\r\n\t    $('.password_hidden').on('click', function() {\r\n\t        var that = $(this);\r\n\t        if (that.children().hasClass('icon-hidden')) {\r\n\t            that.children().removeClass('icon-hidden').addClass('icon-see')\r\n\t            $('#password').attr('type', 'text');\r\n\t        } else {\r\n\t            that.children().removeClass('icon-see').addClass('icon-hidden');\r\n\t            $('#password').attr('type', 'password');\r\n\t        }\r\n\t    });\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ },\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/*!*****************************!*\\\n  !*** ./js/page/register.js ***!\n  \\*****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n\t * \r\n\t * @authors Your Name (you@example.org)\r\n\t * @date    2015-05-17 15:57:53\r\n\t * @version $Id$\r\n\t */\r\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\r\n\t\r\n\t    var $ = __webpack_require__(/*! jquery */ 1),\r\n\t        layer = __webpack_require__(/*! layer */ 2);\r\n\t\r\n\t    __webpack_require__(/*! pwShow */ 6);\r\n\t    __webpack_require__(/*! validate */ 3);\r\n\t    __webpack_require__(/*! defaultRules */ 4);\r\n\t    verifyCode = __webpack_require__(/*! verifyCode */ 5);\r\n\t\r\n\t\r\n\t    var Register = {\r\n\t        init: function() {\r\n\t            var formValidate = this.goSignup();\r\n\t\r\n\t            $('.get_verify').on('click', function() {\r\n\t\r\n\t                if (formValidate.element('#tel') && formValidate.element('#captcha')) {\r\n\t                    verifyCode.getCode();\r\n\t                }\r\n\t            });\r\n\t\r\n\t            verifyCode.init();\r\n\t        },\r\n\t        sendLogin: function(form) {\r\n\t            var $form = $(form);\r\n\t            var formData = $form.serializeArray();\r\n\t            var flag = $form.data('flag');\r\n\t            var $submitBtn = $('[type=\"submit\"]', $form);\r\n\t            var actLink = $form.attr('action') || 'Account-reg';\r\n\t\r\n\t            if (flag) return;\r\n\t            $form.data('flag', true);\r\n\t            $submitBtn.val('注册中...');\r\n\t\r\n\t            $.post(actLink, formData, function(data) {\r\n\t                    var url = data.data.url;\r\n\t\r\n\t                    if (data.status === 0) {\r\n\t                        layer.open({\r\n\t                            content: '注册成功'\r\n\t                        });\r\n\t                        if (url) {\r\n\t                            location.href = url\r\n\t                        }\r\n\t                    } else {\r\n\t                        $form.data('flag', false);\r\n\t                        if (data.status === 200000) {\r\n\t                            // 账号已经存在\r\n\t                            var index = layer.open({\r\n\t                                title: '<span class=\"error\">该账号已经存在</span>',\r\n\t                                className: 'login-layer',\r\n\t                                content: '<div class=\"content text-center\">继续获取会导致原先<br> 的账号无法正常使用。 </div>' +\r\n\t                                    '<a class=\"btn btn-fill commen_btn\" href=\"Account-login?redirect=' + $('[name=\"redirect\"]').val() + '\">登录</a>' +\r\n\t                                    '<a class=\"btn keep-reg btn-border btn-fill\" href=\"javascript:;\">继续注册</a>'\r\n\t                            })\r\n\t\r\n\t                            $('.keep-reg').click(function() { //重新提交表单\r\n\t                                layer.close(index)\r\n\t                                $('#keep-reg').val(1);\r\n\t                                $('[type=\"submit\"]', $form).trigger('click');\r\n\t                            });\r\n\t                        } else {\r\n\t                            layer.open({\r\n\t                                content: '注册失败'\r\n\t                            });\r\n\t                        }\r\n\t                    }\r\n\t                }, 'json')\r\n\t                .fail(function() {\r\n\t                    layer.open({\r\n\t                        content: '服务器繁忙',\r\n\t                        time: 3\r\n\t                    });\r\n\t                    $form.data('flag', false);\r\n\t                })\r\n\t                .complete(function() {\r\n\t                    $submitBtn.val('登录');\r\n\t                    $('#keep-reg').val(0); // 重置已有账号 继续注册\r\n\t                })\r\n\t\r\n\t        },\r\n\t        goSignup: function() {\r\n\t            var self = this;\r\n\t            var formValidate = $(\"#signup-form\").validate({\r\n\t                submitHandler: function(form) {\r\n\t                    self.sendLogin(form);\r\n\t                },\r\n\t                rules: {\r\n\t                    phoneVal: {\r\n\t                        remote: {\r\n\t                            url: 'Account-telphone',\r\n\t                            type: 'post',\r\n\t                            dataType: 'json',\r\n\t                            async: false,\r\n\t                            data: {\r\n\t                                'phoneVal': function() {\r\n\t                                    return $(\"#tel\").val();\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                },\r\n\t                messages: {\r\n\t                    phoneVal: {\r\n\t                        required: '请输入手机号码作为账号',\r\n\t                        remote: '* 账号已存在，请<a href=\"Account-login?redirect=' + $('#redirect').val() + '\" style=\"margin-left:5px;\" class=\"forget_pw \">登录</a>'\r\n\t                    },\r\n\t                    verifyCode: {\r\n\t                        required: '请输入验证码',\r\n\t                        remote: '验证码错误'\r\n\t                    }\r\n\t                }\r\n\t            });\r\n\t\r\n\t            return formValidate\r\n\t        }\r\n\t    }\r\n\t\r\n\t\r\n\t    module.exports = Register;\r\n\t\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** register.bundle.js\n **/","var register = require(\"register\");\r\n\r\nregister.init();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/entry/register.js\n ** module id = 0\n ** module chunks = 2\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-26 10:40:44\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, module) {\r\n    var $ = require('jquery');\r\n    var layer = require('layer');\r\n    var VerifyCode = {\r\n        el: $('.get_verify'),\r\n        telEl: $('#tel'),\r\n        captchaEl: $('#captcha'),\r\n        count: null,\r\n        timer: parseInt($('#time').val()) || 60,\r\n        init: function() {\r\n            var self = this;\r\n            if (self.timer != 60) {\r\n                self.beginCode();\r\n            }\r\n        },\r\n        // 禁用计时器\r\n        disabledBtn: function() {\r\n            this.el.addClass('disabled');\r\n            return this;\r\n        },\r\n        // 设置计时器\r\n        enableBtn: function() {\r\n            var self = this;\r\n\r\n            self.el.removeClass('disabled');\r\n\r\n            return this;\r\n        },\r\n        // 启用计时器\r\n        beginCode: function() {\r\n            var self = this;\r\n\r\n            self.disabledBtn();\r\n\r\n            self.count = setInterval(function() {\r\n                self.countSecond(self.timer)\r\n            }, 1000);\r\n\r\n            return this;\r\n        },\r\n        // 获取验证码\r\n        getCode: function() {\r\n            var self = this;\r\n            var sendDate = {\r\n                phoneVal: self.telEl.val(),\r\n                verifyCode: self.captchaEl.val()\r\n            }\r\n\r\n            self.disabledBtn()\r\n\r\n            $.post('Account-getcode', sendDate, function(data) {\r\n                if (data === 1) {\r\n                    layer.open({\r\n                        content: '您已经超过5次请求获取验证，请24小时后再尝试请求',\r\n                        time: 3\r\n                    });\r\n                    self.enableBtn();\r\n                    self.el.trigger('codeFail', data);\r\n                } else if(data === false || data === 'false' ){\r\n                    self.enableBtn();\r\n                    layer.open({\r\n                        content: '验证码失效，请重新获取验证码',\r\n                        time: 3\r\n                    });\r\n                } else {\r\n                    self.beginCode();\r\n                    self.el.trigger('codeSuccess', data);\r\n                }\r\n            }, 'json')\r\n            .fail(function(){\r\n                self.beginCode();\r\n            })\r\n\r\n            return this;\r\n        },\r\n        countSecond: function(timers) {\r\n            var self = this;\r\n\r\n            if (timers != 0) {\r\n                self.timer = timers - 1;\r\n                self.el.text(self.timer + 's重新获取')\r\n                self.disabledBtn();\r\n\r\n            } else {\r\n                clearInterval(self.count);\r\n                self.timer = 60;\r\n                self.enableBtn();\r\n                self.el.text('重新获取');\r\n\r\n            }\r\n\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n    module.exports = VerifyCode;\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/plug/verifyCode.js\n ** module id = 5\n ** module chunks = 1 2 4\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-17 14:55:23\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, modules) {\r\n    var $ = require(\"jquery\");\r\n    $('.password_hidden').on('click', function() {\r\n        var that = $(this);\r\n        if (that.children().hasClass('icon-hidden')) {\r\n            that.children().removeClass('icon-hidden').addClass('icon-see')\r\n            $('#password').attr('type', 'text');\r\n        } else {\r\n            that.children().removeClass('icon-see').addClass('icon-hidden');\r\n            $('#password').attr('type', 'password');\r\n        }\r\n    });\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/plug/pwShow.js\n ** module id = 6\n ** module chunks = 2 3\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2015-05-17 15:57:53\r\n * @version $Id$\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    var $ = require('jquery'),\r\n        layer = require('layer');\r\n\r\n    require('pwShow');\r\n    require('validate');\r\n    require('defaultRules');\r\n    verifyCode = require('verifyCode');\r\n\r\n\r\n    var Register = {\r\n        init: function() {\r\n            var formValidate = this.goSignup();\r\n\r\n            $('.get_verify').on('click', function() {\r\n\r\n                if (formValidate.element('#tel') && formValidate.element('#captcha')) {\r\n                    verifyCode.getCode();\r\n                }\r\n            });\r\n\r\n            verifyCode.init();\r\n        },\r\n        sendLogin: function(form) {\r\n            var $form = $(form);\r\n            var formData = $form.serializeArray();\r\n            var flag = $form.data('flag');\r\n            var $submitBtn = $('[type=\"submit\"]', $form);\r\n            var actLink = $form.attr('action') || 'Account-reg';\r\n\r\n            if (flag) return;\r\n            $form.data('flag', true);\r\n            $submitBtn.val('注册中...');\r\n\r\n            $.post(actLink, formData, function(data) {\r\n                    var url = data.data.url;\r\n\r\n                    if (data.status === 0) {\r\n                        layer.open({\r\n                            content: '注册成功'\r\n                        });\r\n                        if (url) {\r\n                            location.href = url\r\n                        }\r\n                    } else {\r\n                        $form.data('flag', false);\r\n                        if (data.status === 200000) {\r\n                            // 账号已经存在\r\n                            var index = layer.open({\r\n                                title: '<span class=\"error\">该账号已经存在</span>',\r\n                                className: 'login-layer',\r\n                                content: '<div class=\"content text-center\">继续获取会导致原先<br> 的账号无法正常使用。 </div>' +\r\n                                    '<a class=\"btn btn-fill commen_btn\" href=\"Account-login?redirect=' + $('[name=\"redirect\"]').val() + '\">登录</a>' +\r\n                                    '<a class=\"btn keep-reg btn-border btn-fill\" href=\"javascript:;\">继续注册</a>'\r\n                            })\r\n\r\n                            $('.keep-reg').click(function() { //重新提交表单\r\n                                layer.close(index)\r\n                                $('#keep-reg').val(1);\r\n                                $('[type=\"submit\"]', $form).trigger('click');\r\n                            });\r\n                        } else {\r\n                            layer.open({\r\n                                content: '注册失败'\r\n                            });\r\n                        }\r\n                    }\r\n                }, 'json')\r\n                .fail(function() {\r\n                    layer.open({\r\n                        content: '服务器繁忙',\r\n                        time: 3\r\n                    });\r\n                    $form.data('flag', false);\r\n                })\r\n                .complete(function() {\r\n                    $submitBtn.val('登录');\r\n                    $('#keep-reg').val(0); // 重置已有账号 继续注册\r\n                })\r\n\r\n        },\r\n        goSignup: function() {\r\n            var self = this;\r\n            var formValidate = $(\"#signup-form\").validate({\r\n                submitHandler: function(form) {\r\n                    self.sendLogin(form);\r\n                },\r\n                rules: {\r\n                    phoneVal: {\r\n                        remote: {\r\n                            url: 'Account-telphone',\r\n                            type: 'post',\r\n                            dataType: 'json',\r\n                            async: false,\r\n                            data: {\r\n                                'phoneVal': function() {\r\n                                    return $(\"#tel\").val();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                messages: {\r\n                    phoneVal: {\r\n                        required: '请输入手机号码作为账号',\r\n                        remote: '* 账号已存在，请<a href=\"Account-login?redirect=' + $('#redirect').val() + '\" style=\"margin-left:5px;\" class=\"forget_pw \">登录</a>'\r\n                    },\r\n                    verifyCode: {\r\n                        required: '请输入验证码',\r\n                        remote: '验证码错误'\r\n                    }\r\n                }\r\n            });\r\n\r\n            return formValidate\r\n        }\r\n    }\r\n\r\n\r\n    module.exports = Register;\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/page/register.js\n ** module id = 11\n ** module chunks = 2\n **/"],"sourceRoot":""}